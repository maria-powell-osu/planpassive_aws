<!--LOAN TYPE SELECTION-->
<div  [formGroup]="calcForm">
    <div class="row">
        <div class="col-md-12 form-group">
            <input type="radio" formControlName="loanInfoView" value="cash" >
            Cash
            <input type="radio" value="bankLoan" formControlName="loanInfoView">
            Loan - Bank
            <input type="radio" value="specialTermsLoan" formControlName="loanInfoView">
            Loan - Special Terms
        </div>
    </div> 

<!--PRICE INFORMATION-->
<div class="row">
  <div class="col-md-10">
      <fieldset>
        <div class="row">
          <div class="col-md-6 form-group">
            <label>
              Purchase Price
            </label>
            <div class="input-group">
              <input type="number" class="inpt form-control" formControlName="li_purchasePrice" placeholder="$" name="Purchase Price"> 
              <span class="input-group-addon">$</span>
            </div>
          </div>
          <div class="col-md-4 form-group">
            <label >Purchase Date</label>
           <input mp-datepicker (dateChange)="calcForm.get('li_purchaseDate').setValue($event)" type="text" class="inpt form-control"  formControlName="li_purchaseDate" name="Purchase Price"> 
          <!--tester: {{parentFormGroup.get('li_purchaseDate').value}}-->
          </div>
        </div>
      </fieldset>
    </div>
  </div>

  <br/>
  <!--BANK LOAN VIEW-->
  <div [hidden]="calcForm.get('loanInfoView').value != 'bankLoan'">
     <div class="row">
        <div class="col-md-10">
          <fieldset>
            <!--new row-->
            <div class="row">
              <!--left-->
              <div class="col-md-6 form-group">
                 <label>Loan Name</label>
                  <div class="input-group">
                    <input type="text" class="inpt form-control" formControlName="bl_loanName" placeholder="Loan Name" name="Loan Name"> 
                    <span class="input-group-addon">  </span>
                  </div>
                  <label>Closing Cost</label>
                  <div class="input-group">
                    <input type="number" class="inpt form-control" formControlName="bl_closingCost" placeholder="$"> 
                    <span class="input-group-addon">$</span>
                  </div>       
              </div>
              <!--right-->
              <div class="col-md-6 form-group">
                <label>Interest</label>
                <div class="input-group">
                  <input type="number" step="0.001" class="inpt form-control" formControlName="bl_interest" placeholder="%" name="Interest"> 
                  <span class="input-group-addon">%</span>
                </div>
                <label>
                  Amortization
                  <a mptooltip text="{{amortizationText}}">
                    <span class="glyphicon glyphicon-question-sign glyphiconBlueColor" aria-hidden="true"></span>
                  </a>
                </label>
                <div class="input-group">
                  <input type="number" class="inpt form-control" formControlName="bl_amortization" placeholder="yrs" name="Amortization">
                  <span class="input-group-addon">years</span>
                </div>               
              </div>  
            </div>
            <!--new row-->
            <div class="row noTopPad">
              <!--left-->
              <div class="col-md-3 form-group">
                <label>
                  Down Payment (%)
                  <!--<span class="text-danger" ng-show="rentalCalculator.showDownPaymentPercentHelpText">Enter purchase price first.</span>-->
                </label> 
                <div class="input-group">    
                  <input type="number" class="inpt form-control" formControlName="bl_downPaymentPercent" placeholder="%" name="Down Payment (%)">
                  <span class="input-group-addon" >%</span>
                </div>
              </div>
              <!--right-->
              <div class="col-md-3 form-group noTopPad">
                <label>
                  Down Payment ($)
                  <!--<span class="text-danger" ng-show="rentalCalculator.input.showDownPaymentDollarHelpText">Enter purchase price first.</span>-->
                </label> 
                <div class="input-group">
                  <input type="number" class="inpt form-control" formControlName="bl_downPaymentDollar" placeholder="$" name="Down Payment ($)">
                  <span class="input-group-addon" >$</span>
                </div>
              </div>
            </div>
            <!--new row-->
            <div class="row">
              <!--left-->
              <div class="col-md-6 form-group">
                <label>
                  Extra Principal Pmt
                  <a mptooltip text="{{extraPrincipalText}}">
                    <span class="glyphicon glyphicon-question-sign glyphiconBlueColor" aria-hidden="true"></span>
                  </a>
                </label>
                <div class="input-group">
                  <input type="number" class="inpt form-control" formControlName="bl_extraPrincipal" placeholder="$" name="Extra Principal">                  
                  <span class="input-group-addon">$/month</span>
                </div>
              </div>
              <!--right-->
              <div class="col-md-3 form-group">
                <label>Start</label>      
                <input type="text" mp-datepicker (dateChange)="calcForm.get('bl_startDate').setValue($event)" class="inpt form-control" formControlName="bl_startDate" placeholder="Date" name="Principal Start Date"> 
              </div>
              <div class="col-md-3 form-group">
                <label>End</label>      
                <input type="text" class="inpt form-control" mp-datepicker (dateChange)="calcForm.get('bl_endDate').setValue($event)" formControlName="bl_endDate" placeholder="Date" name="Principal End Date">
              </div>
            </div>
          </fieldset>
        </div>
     </div>
 
     <br/>

    <!-- BANK LOANS-->
    <div formArrayName="loans" *ngFor="let loan of loans.controls; let i=index; let isLast= last; let isFirst =first">
      <div [formGroupName]="i">
          <div class="row">
            <div class="col-md-10">
              <fieldset>
                <!--REMOVE LOAN-->
                <div class="row">
                  <div class="col-md-2 col-md-offset-10 mpClickable" (click)="removeLoan()" [hidden]="!isLast || isFirst" >
                    <span class="glyphicon glyphicon-minus-sign glyphiconDeleteForm" aria-hidden="true"></span>
                  </div>
                </div>
                <!--new row-->
                <div class="row">
                  <!--left-->
                  <div class="col-md-6 form-group">
                    <label>Loan Name</label>
                    <div class="input-group">
                      <input type="text" class="inpt form-control" formControlName="add_bl_loanName" placeholder="Loan Name" name="Loan Name">
                      <span class="input-group-addon">  </span>
                    </div>
                    <label>Amount</label>
                    <div class="input-group">
                      <input type="number" class="inpt form-control" formControlName="add_bl_loanAmount" placeholder="Amount in $" name="Amount">
                      <span class="input-group-addon">$</span>
                    </div>
                    <label>Interest (%)</label>
                    <div class="input-group">
                      <input type="number" step="0.001" class="inpt form-control" formControlName="add_bl_interest" placeholder="%" name="Interest (%)">  
                      <span class="input-group-addon">%</span>
                    </div>
                  </div>
                  <!--right-->
                  <div class="col-md-6 form-group">
                    <label>
                      Amortization
                      <a rel="mpTooltip" mptooltip text="amortizationText">
                        <span class="glyphicon glyphicon-question-sign glyphiconBlueColor" aria-hidden="true"></span>
                      </a>
                    </label>
                    <div class="input-group">
                      <input type="number" class="inpt form-control" formControlName="add_bl_amortization" placeholder="yrs" name="Amortization">
                      <span class="input-group-addon">years</span>
                    </div>
                    <label>
                      Year Until Balloon Pmt
                      <a rel="mpTooltip" mptooltip text="{{balloonDateText}}">
                        <span class="glyphicon glyphicon-question-sign glyphiconBlueColor" aria-hidden="true"></span>
                      </a>
                    </label> 
                    <div class="input-group">    
                      <input type="number" class="inpt form-control" formControlName="add_bl_balloon"  placeholder="Yrs"> 
                      <span class="input-group-addon">years</span>
                    </div>
                  
                    <label>
                      Up Front Lender Points
                      <a rel="mpTooltip" mptooltip text="{{lenderPointsText}}">
                        <span class="glyphicon glyphicon-question-sign glyphiconBlueColor" aria-hidden="true"></span>
                      </a>
                    </label>
                    <div class="input-group">
                      <input type="number" class="inpt form-control" formControlName="add_bl_upFrontLenderPoints" placeholder="$">
                      <span class="input-group-addon">$</span>
                    </div>
                  </div>
                  <span class="glyphicon glyphicon-question-sign glyphiconBlueColor elemIndent" aria-hidden="true"></span>
                  <label>Interest only?</label>
                  <input type="checkbox" formControlName="add_bl_interestOnly">
                </div>
              </fieldset>
            </div>
          </div>
          <br/>
      </div>
    </div>
    <!--ADD LOAN-->
    <button class="btn mpDesignBackGround55B563 whiteText" type="button" (click)="addLoan()">
      Add Another Loan
    </button>
  </div>
  <!--SPECIAL TERMS LOANS-->
  <div [hidden]="calcForm.get('loanInfoView').value != 'specialTermsLoan'">
    <div formArrayName="specialTermsLoans" *ngFor="let specialTermsLoan of specialTermsLoans.controls; let i=index; let isLast= last; let isFirst =first">
      <div [formGroupName]="i">
          <div class="row">
            <div class="col-md-10">
              <fieldset>
                <!--Remove special terms loans-->
                <div class="row">
                    <div class="col-md-2 col-md-offset-10" (click)="removeSpecialTermsLoan()"  [hidden]="!isLast || isFirst">
                      <span class="glyphicon glyphicon-minus-sign glyphiconDeleteForm" aria-hidden="true"></span>
                    </div>
                </div>
                <!--new row-->
                <div class="row">
                  <!--left-->
                  <div class="col-md-6 form-group">
                    <label>Loan Name</label>
                    <div class="input-group">
                      <input type="text" class="inpt form-control" formControlName="stl_loanName" placeholder="Loan Name" name="Loan Name">
                      <span class="input-group-addon">$</span>
                    </div>
                    
                    <label mp-required>Amount</label>
                    <div class="input-group">
                      <input type="number" class="inpt form-control" formControlName="stl_amount" placeholder="$" name="Loan Amount">
                      <span class="input-group-addon" >$</span>
                    </div>
                    <label>
                      Interest
                      <span class="glyphicon glyphicon-question-sign glyphiconBlueColor" aria-hidden="true"></span>
                    </label>
                    <div class="input-group">
                      <input type="number" step="0.001" class="inpt form-control" formControlName="stl_interest" placeholder="%" name="Interest"> 
                      <span class="input-group-addon">%</span>
                    </div> 
                  </div>
                  <!--right-->
                  <div class="col-md-6 form-group">
                    <label mp-required>
                      Amortization
                      <a rel="mpTooltip" mptooltip text="{{amortizationText}}">
                        <span class="glyphicon glyphicon-question-sign glyphiconBlueColor" aria-hidden="true"></span>
                      </a>
                    </label>
                    <div class="input-group">
                      <input type="number" class="inpt form-control" formControlName="stl_amortization" placeholder="yrs" name="Amortization">
                      <span class="input-group-addon">years</span>
                    </div>

                    <label>
                      Years Until Balloon Pmt
                      <a rel="mpTooltip" mptooltip text="{{balloonDateText}}">
                        <span class="glyphicon glyphicon-question-sign glyphiconBlueColor" aria-hidden="true"></span>
                      </a>
                    </label>
                    <div class="input-group">
                      <input type="number" class="inpt form-control" formControlName="stl_balloon" placeholder="Yrs"> 
                      <span class="input-group-addon">years</span>
                    </div>

                    <label>
                      Up Front Lender Points
                      <a rel="mpTooltip" mptooltip text="{{lenderPointsText}}">
                        <span class="glyphicon glyphicon-question-sign glyphiconBlueColor" aria-hidden="true"></span>
                      </a>
                    </label>
                    <div class="input-group">
                      <input type="number" class="inpt form-control" formControlName="stl_upFrontLenderPoints" placeholder="$">
                      <span class="input-group-addon">$</span>
                    </div>
                  </div>
                  <span class="glyphicon glyphicon-question-sign glyphiconBlueColor elemIndent" aria-hidden="true"></span>
                  <label>Interest only?</label>
                  <input type="checkbox" formControlName="stl_interestOption">
                </div>
              </fieldset>
            </div>
          </div>
          <br/>
      </div>
    </div>
    <!--add special terms loan-->
    <button class="btn mpDesignBackGround55B563 whiteText" type="button" (click)="addSpecialTermsLoan()">
      Add AnotherSpecial Terms Loan
    </button>
  </div>
</div>

<!--tool tip-->
<!--validation-->